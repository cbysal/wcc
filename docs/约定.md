## 简述
此文档规定了前端 IR 传递给后端时应当遵循的规则

## 原则
文档仅规定前后端约定，对于前段如何实现，过程中添加何等 IR 不作任何限制

## 支持的 IR 类型
ADD, BEQ, BGE, BGT, BLE, BLT, BNE, CALL, DIV, EQ, F2I, GE, GOTO, GT, I2F, L_NOT, LABEL, LE, LT, MEMSET_ZERO, MOD, MOV, MUL, NE, NEG, SUB\
下面规定了 IR 的作用及应遵循的构造规范
1. ADD/DIV/MUL/SUB
- 格式（以 ADD 为例）：
> 1. ADD, ITEMP, ITEMP, ITEMP
> 2. ADD, ITEMP, ITEMP, INT
> 3. ADD, ITEMP, INT, ITEMP
> 4. ADD, FTEMP, FTEMP, FTEMP
> 5. ADD, FTEMP, FTEMP, FLOAT
> 6. ADD, FTEMP, FLOAT, FTEMP
- 作用：加法（ADD）/除法（DIV）/乘法（MUL）/减法（SUB），包含整型和浮点型，拥有 3 个操作数，第一操作数为保存运算结果的临时变量，第二操作数为运算符号左边的临时变量，第三操作数为作为运算符号右边的临时变量或立即数
2. BEQ/BGE/BGT/BLE/BLT/BNE
- 格式（以 BEQ 为例）：
> 1. BEQ, LABEL, ITEMP, ITEMP
> 2. BEQ, LABEL, ITEMP, INT
> 3. BEQ, LABEL, INT, ITEMP
> 4. BEQ, LABEL, FTEMP, FTEMP
> 5. BEQ, LABEL, FTEMP, FLOAT
> 6. BEQ, LABEL, FLOAT, FTEMP
- 作用：如果第二操作数相等（BEQ）/大于等于（BGE）/大于（BGT）/小于等于（BLE）/小于（BLT）/不等于（BNE）第三操作数，那么跳转至下一条第一操作数指向的 LABEL，否则，继续下一条 IR。拥有 3 个操作数，第一操作数为分支成功的 LABEL 指针，第二操作数为被比较的一个数的临时变量，第三操作数为被比较的一个数的临时变量或立即数
3. CALL
- 格式：CALL, SYMBOL, {(ITEMP/FTEMP/INT/FLOAT)*}
- 作用：调用函数，第一操作数为函数的符号，后面的操作数全部都是传入的参数
4. EQ/GE/GT/LE/LT/NE
- 格式（以 EQ 为例）：
> 1. EQ, ITEMP, ITEMP, ITEMP
> 2. EQ, ITEMP, ITEMP, INT
> 3. EQ, ITEMP, INT, ITEMP
> 4. EQ, ITEMP, FTEMP, FTEMP
> 5. EQ, ITEMP, FTEMP, FLOAT
> 6. EQ, ITEMP, FLOAT, FTEMP
- 作用：如果第二操作数相等（EQ）/大于等于（GE）/大于（GT）/小于等于（LE）/小于（LT）/不等于（NE）第三操作数，那么将第一操作数置 1，否则置 0。第一操作数为保存比较运算结果的临时变量，第二操作数为被比较的一个数的临时变量，第三操作数为被比较的一个数的临时变量或立即数
5. F2I
- 格式：F2I, ITEMP, FTEMP
- 作用：将 FTEMP 类型的第二立即数转化为 ITEMP 类型的第一立即数，即 int 到 float 的强制类型转换
6. GOTO
- 格式：GOTO, LABEL
- 作用：跳转到第一操作数指向的 LABEL，第一操作数为 LABEL 指针
7. I2F
- 格式：I2F, FTEMP, ITEMP
- 作用：将 ITEMP 类型的第二立即数转化为 FTEMP 类型的第一立即数，即 float 到 int 的强制类型转换
8. L_NOT
- 格式：
> 1. L_NOT, ITEMP, ITEMP
> 2. L_NOT, ITEMP, FTEMP
- 作用：如果第二操作数保存的数据为 0 或 0.0f，那么就将第一操作数置 1，否则置 0
9. LABEL
- 格式：LABEL
- 作用：LABEL 占位符
10. MEMSET_ZERO
- 格式：MEMSET_ZERO, SYMBOL
- 作用：初始化 SYMBOL 数组的值全部为 0
11.  MOD
- 格式：
> 1. MOD, ITEMP, ITEMP, ITEMP
> 2. MOD, ITEMP, ITEMP, INT
> 3. MOD, ITEMP, INT, ITEMP
- 作用：取模，仅支持整型，拥有 3 个操作数，第一操作数为保存运算结果的临时变量，第二操作数为运算符号左边的临时变量，第三操作数为作为运算符号右边的临时变量或立即数
12. MOV
- 格式：
> 1. MOV, ITEMP, ITEMP
> 2. MOV, ITEMP, INT
> 3. MOV, ITEMP, SYMBOL, {(ITEMP/INT)*}
> 4. MOV, ITEMP, RETURN
> 5. MOV, FTEMP, FTEMP
> 6. MOV, FTEMP, FLOAT
> 7. MOV, FTEMP, SYMBOL, {(ITEMP/INT)*}
> 8. MOV, FTEMP, RETURN
> 9. MOV, SYMBOL, ITEMP, {(ITEMP/INT)*}
> 10. MOV, SYMBOL, FTEMP, {(ITEMP/INT)*}
> 11. MOV, SYMBOL, INT, {(ITEMP/INT)*}
> 12. MOV, SYMBOL, FLOAT, {(ITEMP/INT)*}
> 13. MOV, SYMBOL, RETURN, {(ITEMP/INT)*}
> 14. MOV, RETURN, ITEMP
> 15. MOV, RETURN, FTEMP
> 16. MOV, RETURN, INT
> 17. MOV, RETURN, FLOAT
> 18. MOV, RETURN, SYMBOL, {(ITEMP/INT)*}
- 作用：实现数据在临时变量、立即数、符号、返回值之间的转移。
13.  NEG
- 格式：
> 1. NEG, ITEMP, ITEMP
> 2. NEG, FTEMP, FTEMP
- 作用：取第二操作数的相反数给第一操作数