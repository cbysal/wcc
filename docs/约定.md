## 简述
此文档规定了前端 IR 传递给后端时应当遵循的规则

## 支持的 IR 类型
ADD, BEQ, BGE, BGT, BLE, BLT, BNE, CALL, DIV, EQ, F2I, GE, GOTO, GT, I2F, L_NOT, LABEL, LE, LT, MEMSET_ZERO, MOD, MOV, MUL, NE, NEG, SUB\
下面规定了 IR 的作用及应遵循的构造规范
1. ADD
- 格式：
> 1. ADD, ITEMP, ITEMP, ITEMP
> 2. ADD, ITEMP, ITEMP, INT
> 3. ADD, FTEMP, FTEMP, FTEMP
> 4. ADD, FTEMP, FTEMP, FLOAT
- 作用：加法，包含整型和浮点型，拥有 3 个操作数，第一操作数为作为和的临时变量，第二操作数为作为加数的临时变量，第三操作数为作为加数的临时变量或立即数
- 注意：
> 1. 第一操作数和第二操作数只能是临时变量
> 2. 三个操作数的操作数据类型应当保持一致（全部为整型或浮点型）
> 3. 如果前端发现第二操作数和第三操作数都能被转化为立即数，那么应当在前段直接算出结果，并转化为等价语句，如 MOV
2. BEQ
- 格式：
> 1. BEQ, IR_T, ITEMP, ITEMP
> 2. BEQ, IR_T, ITEMP, INT
> 3. BEQ, IR_T, FTEMP, FTEMP
> 4. BEQ, IR_T, FTEMP, FLOAT
- 作用：如果相等，那么跳转至下一条第一操作数指向的 IR，否则，继续下一条 IR。拥有 3 个操作数，第一操作数为分支成功的 IR 指针，第二操作数为被比较的一个数的临时变量，第三操作数为被比较的一个数的临时变量或立即数第一操作数作为加数的临时变量，第三操作数为作为加数的临时变量或立即数
- 注意：
> 1. 第二操作数只能是临时变量
> 2. 第二操作数和第三操作数的操作数据类型应当保持一致（全部为整型或浮点型）
> 3. 如果前端发现第二操作数和第三操作数都能被转化为立即数，那么应当将该条件跳转转化为相应的非条件跳转，如 GOTO，并删除可能出现的死代码
3. MOV
- 格式：
> 1. MOV, ITEMP, ITEMP
> 2. MOV, ITEMP, INT
> 3. MOV, ITEMP, SYMBOL, {(ITEMP/INT)*}
> 4. MOV, ITEMP, RETURN
> 5. MOV, FTEMP, FTEMP
> 6. MOV, FTEMP, FLOAT
> 7. MOV, FTEMP, SYMBOL, {(ITEMP/INT)*}
> 8. MOV, FTEMP, RETURN
> 9. MOV, SYMBOL, ITEMP, {(ITEMP/INT)*}
> 10. MOV, SYMBOL, FTEMP, {(ITEMP/INT)*}
> 11. MOV, RETURN, ITEMP
> 12. MOV, RETURN, FTEMP
- 作用：实现数据在临时变量、立即数、符号、返回值之间的转移。
- 注意：
> 1. MOV, ITEMP/FTEMP , RETURN 表示读取返回值，在函数结束后调用以获取返回值
> 2. MOV, ITEMP/FTEMP, SYMBOL, {(ITEMP/INT)*} 表示读取符号对应数据到临时变量，一般翻译为 LOAD 指令。此 IR 第一操作数为存储 LOAD 结果的临时变量，第二操作数为符号（可能为数组）。如果第二操作数是数组，后面可能出现若干个整型的临时变量或立即数。如果第二操作数后面临时变量和立即数个数等于 SYMBOL 对应的维度，那么得到对应数组元素，否则，得到的是内层数组的地址
> 3. MOV, SYMBOL, ITEMP/FTEMP, {(ITEMP/INT)*} 表示读取符号对应数据到临时变量，一般翻译为 STORE 指令。此 IR 第一操作数为符号（可能为数组），第二操作数为存储 STORE 来源值的临时变量。如果第一操作数是数组，后面可能出现若干个整型的临时变量或立即数。第二操作数后面临时变量和立即数的个数之和必须等于 SYMBOL 对应的维度
> 4. 地址存储至 ITEMP